-- BP 7.1.6 content: Component syschar: 3 persistence-version: 7.1.6

INSERT INTO C_C
	VALUES ("0a3c47af-7039-45ba-9ad1-ade9766a791d",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	'Server',
	'',
	0,
	"00000000-0000-0000-0000-000000000000",
	0,
	'');
INSERT INTO GD_MD
	VALUES ("5ca5534d-73cf-4a79-b157-e3bc266d83c8",
	111,
	"0a3c47af-7039-45ba-9ad1-ade9766a791d",
	98,
	0,
	0,
	1,
	1,
	1,
	12,
	1,
	0,
	0,
	0,
	0,
	0,
	'4.0.0',
	'VerifierInterfaceExecutionTests::Components::Server');
INSERT INTO GD_GE
	VALUES ("62e00352-dc24-426e-8ab1-875187ee01f7",
	"5ca5534d-73cf-4a79-b157-e3bc266d83c8",
	"0a3c47af-7039-45ba-9ad1-ade9766a791d",
	103,
	0,
	'VerifierInterfaceExecutionTests::Components::Server');
INSERT INTO GD_SHP
	VALUES ("62e00352-dc24-426e-8ab1-875187ee01f7");
INSERT INTO GD_CTR
	VALUES ("62e00352-dc24-426e-8ab1-875187ee01f7");
INSERT INTO DIM_ND
	VALUES (1128.000000,
	511.000000,
	"62e00352-dc24-426e-8ab1-875187ee01f7");
INSERT INTO DIM_GE
	VALUES (4100.000000,
	3100.000000,
	"62e00352-dc24-426e-8ab1-875187ee01f7",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("62e00352-dc24-426e-8ab1-875187ee01f7",
	0,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_CON
	VALUES ("0d2c3da2-818d-4ad4-9aaf-df8b9fb6d1b9",
	4548.000000,
	3611.000000,
	"62e00352-dc24-426e-8ab1-875187ee01f7");
INSERT INTO GD_GE
	VALUES ("9ddf2e22-6462-46f6-a73a-3b9be51a631b",
	"5ca5534d-73cf-4a79-b157-e3bc266d83c8",
	"7ece8b1e-fcf1-4fb2-840c-c05892309b15",
	94,
	0,
	'VerifierInterfaceExecutionTests::Components::Server::CommPort::Comm');
INSERT INTO GD_CON
	VALUES ("9ddf2e22-6462-46f6-a73a-3b9be51a631b",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO GD_CTXT
	VALUES ("f1d8fc4d-7d02-4a8a-83f3-b456acc9e7bc",
	"9ddf2e22-6462-46f6-a73a-3b9be51a631b",
	1,
	0.000000,
	0.000000);
INSERT INTO DIM_ND
	VALUES (0.000000,
	0.000000,
	"f1d8fc4d-7d02-4a8a-83f3-b456acc9e7bc");
INSERT INTO DIM_GE
	VALUES (0.000000,
	0.000000,
	"f1d8fc4d-7d02-4a8a-83f3-b456acc9e7bc",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("f1d8fc4d-7d02-4a8a-83f3-b456acc9e7bc",
	0,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO GD_CTXT
	VALUES ("2ba0e085-660f-47c9-8a2d-b99c214bd582",
	"9ddf2e22-6462-46f6-a73a-3b9be51a631b",
	3,
	0.000000,
	0.000000);
INSERT INTO DIM_ND
	VALUES (0.000000,
	0.000000,
	"2ba0e085-660f-47c9-8a2d-b99c214bd582");
INSERT INTO DIM_GE
	VALUES (4494.000000,
	3638.000000,
	"2ba0e085-660f-47c9-8a2d-b99c214bd582",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("2ba0e085-660f-47c9-8a2d-b99c214bd582",
	0,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO GD_CTXT
	VALUES ("4dff5520-b3e9-4d58-bddc-fa945900a188",
	"9ddf2e22-6462-46f6-a73a-3b9be51a631b",
	2,
	0.000000,
	0.000000);
INSERT INTO DIM_ND
	VALUES (0.000000,
	0.000000,
	"4dff5520-b3e9-4d58-bddc-fa945900a188");
INSERT INTO DIM_GE
	VALUES (0.000000,
	0.000000,
	"4dff5520-b3e9-4d58-bddc-fa945900a188",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("4dff5520-b3e9-4d58-bddc-fa945900a188",
	0,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO GD_LS
	VALUES ("4772fd68-8567-47e0-a2c4-3b5c16d9ccf0",
	"9ddf2e22-6462-46f6-a73a-3b9be51a631b",
	"00000000-0000-0000-0000-000000000000",
	"ca5b403b-73c9-46f7-9b82-a7b6fd3f28de",
	"85faa64b-ea4b-43d7-8e19-32f7701ee09f");
INSERT INTO DIM_WAY
	VALUES ("ca5b403b-73c9-46f7-9b82-a7b6fd3f28de",
	4548.000000,
	3611.000000,
	"9ddf2e22-6462-46f6-a73a-3b9be51a631b",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_WAY
	VALUES ("85faa64b-ea4b-43d7-8e19-32f7701ee09f",
	4547.000000,
	3678.000000,
	"9ddf2e22-6462-46f6-a73a-3b9be51a631b",
	"00000000-0000-0000-0000-000000000000",
	"ca5b403b-73c9-46f7-9b82-a7b6fd3f28de");
INSERT INTO DIM_GE
	VALUES (0.000000,
	0.000000,
	"9ddf2e22-6462-46f6-a73a-3b9be51a631b",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("9ddf2e22-6462-46f6-a73a-3b9be51a631b",
	0,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ED
	VALUES ("0d2c3da2-818d-4ad4-9aaf-df8b9fb6d1b9",
	"00000000-0000-0000-0000-000000000000",
	"9ddf2e22-6462-46f6-a73a-3b9be51a631b");
INSERT INTO GD_GE
	VALUES ("e7d59989-423c-414e-8932-e2713998c852",
	"5ca5534d-73cf-4a79-b157-e3bc266d83c8",
	"d4acd66d-42e6-49e7-be66-f0427b20e5ad",
	108,
	0,
	'VerifierInterfaceExecutionTests::Components::Server::Impl');
INSERT INTO GD_SHP
	VALUES ("e7d59989-423c-414e-8932-e2713998c852");
INSERT INTO GD_NCS
	VALUES ("e7d59989-423c-414e-8932-e2713998c852");
INSERT INTO DIM_ND
	VALUES (193.000000,
	145.000000,
	"e7d59989-423c-414e-8932-e2713998c852");
INSERT INTO DIM_GE
	VALUES (4295.000000,
	3227.000000,
	"e7d59989-423c-414e-8932-e2713998c852",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("e7d59989-423c-414e-8932-e2713998c852",
	0,
	"62e00352-dc24-426e-8ab1-875187ee01f7");
INSERT INTO DIM_DIA
	VALUES ("5ca5534d-73cf-4a79-b157-e3bc266d83c8",
	'',
	1.000000,
	4000.000000,
	3000.000000,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO C_PO
	VALUES ("0109565e-fff9-4e71-aa56-5bbcbb02f990",
	"0a3c47af-7039-45ba-9ad1-ade9766a791d",
	'CommPort',
	0,
	0);
INSERT INTO C_IR
	VALUES ("7ece8b1e-fcf1-4fb2-840c-c05892309b15",
	"ba40a1ae-0fae-4e73-89ac-ffa9df46bee9",
	"00000000-0000-0000-0000-000000000000",
	"0109565e-fff9-4e71-aa56-5bbcbb02f990");
INSERT INTO C_P
	VALUES ("7ece8b1e-fcf1-4fb2-840c-c05892309b15",
	'Comm',
	'Unnamed Interface',
	'',
	'Server::CommPort::Comm');
INSERT INTO SPR_PEP
	VALUES ("cf18ff7c-b824-4cc5-8245-d84f15bbfdea",
	"4143efde-2c7a-4bcd-aaad-4dba59ac9b0f",
	"7ece8b1e-fcf1-4fb2-840c-c05892309b15");
INSERT INTO SPR_PS
	VALUES ("cf18ff7c-b824-4cc5-8245-d84f15bbfdea",
	'Register',
	'',
	'LOG::LogInfo(message: "Inside Server::Register() signal body.  Performing tests.");

// Check if the same client component has been already registered
select any client from instances of ClientTracker where selected.ref_to_component == sender;
if(not empty client)
    LOG::LogFailure(message: "Server unexpectedly found a ClientTracker match.");
    // Let''s try to directly compare the refernces
    if(client.ref_to_component == sender)
        LOG::LogInfo(message: "The ClientTracker ref_to_component and sender are the same");
    else
        LOG::LogInfo(message: "The ClientTracker ref_to_component and sender are not the same");
    end if;
    return;
end if;

// If you got to this point, you may register by finding the first available ID first
select many clients from instances of ClientTracker;
numOfClients = cardinality clients;
newID = numOfClients+1;

// Now, register
create object instance cl of ClientTracker;
cl.ID = newID;
cl.ref_to_component = sender;

// Here we do some checks just to test BridgePoint internals.  They are not 
// functionally relevant.
t1 = sender;
if(t1 == cl.ref_to_component)
    LOG::LogInfo(message: "Success - equality check - refs are the same");
else
    LOG::LogInfo(message: "ERROR - equality check - refs are not the same and should be");
end if;
if(cl.ref_to_component != t1)
    LOG::LogInfo(message: "ERROR - inequality check - refs are not the same and should be");
else
    LOG::LogInfo(message: "Success - inequality check - refs are the same");
end if;
// End functionality checks
',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("4143efde-2c7a-4bcd-aaad-4dba59ac9b0f",
	"ba40a1ae-0fae-4e73-89ac-ffa9df46bee9",
	-1,
	'Register',
	'',
	'../../Interfaces/Comm/Comm.xtuml');
INSERT INTO SPR_PEP
	VALUES ("68074f0f-4697-4436-b736-2296920e5578",
	"77467148-2d19-4d90-ab07-d1d7ddceb246",
	"7ece8b1e-fcf1-4fb2-840c-c05892309b15");
INSERT INTO SPR_PS
	VALUES ("68074f0f-4697-4436-b736-2296920e5578",
	'Init',
	'',
	'',
	3);
INSERT INTO C_EP_PROXY
	VALUES ("77467148-2d19-4d90-ab07-d1d7ddceb246",
	"ba40a1ae-0fae-4e73-89ac-ffa9df46bee9",
	-1,
	'Init',
	'',
	'../../Interfaces/Comm/Comm.xtuml');
INSERT INTO C_I_PROXY
	VALUES ("ba40a1ae-0fae-4e73-89ac-ffa9df46bee9",
	"00000000-0000-0000-0000-000000000000",
	'Comm',
	'',
	'../../Interfaces/Comm/Comm.xtuml');
INSERT INTO PE_PE
	VALUES ("0a3c47af-7039-45ba-9ad1-ade9766a791d",
	1,
	"7a7e16cd-d72d-4417-b862-f0e27108bd06",
	"00000000-0000-0000-0000-000000000000",
	2);
INSERT INTO EP_PKG_PROXY
	VALUES ("7a7e16cd-d72d-4417-b862-f0e27108bd06",
	"3525c523-0138-4b19-bb1d-6e6b5e896b6b",
	"3525c523-0138-4b19-bb1d-6e6b5e896b6b",
	'Components',
	'',
	0,
	'../Components.xtuml');
